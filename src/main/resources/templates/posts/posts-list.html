<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>게시글 목록</title>
    <!-- Bootstrap CSS (간단한 스타일링을 위해 CDN 사용) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <!-- 페이지 제목 -->
        <h1 class="mb-4">게시글 목록</h1>
        
        <!-- 게시글 작성 버튼 -->
        <div class="mb-3">
            <!-- Thymeleaf URL 링크: @{/posts/save}는 /posts/save로 변환됨 -->
            <a th:href="@{/posts/save}" class="btn btn-primary">게시글 작성</a>
        </div>
        
        <!-- 게시글 목록 테이블 -->
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>제목</th>
                    <th>작성자</th>
                    <th>작업</th>
                </tr>
            </thead>
            <tbody>
                <!-- Thymeleaf 반복문: postsList의 각 항목을 순회 -->
                <!-- th:each="post : ${postsList}": postsList의 각 요소를 post 변수에 할당 -->
                <tr th:each="post : ${postsList}">
                    <!-- 게시글 ID 출력 -->
                    <td th:text="${post.id}">1</td>
                    <!-- 게시글 제목 출력 (클릭 시 상세 페이지로 이동) -->
                    <td>
                        <!-- Thymeleaf URL 링크: @{/posts/{id}(id=${post.id})}는 /posts/1 형식으로 변환 -->
                        <a th:href="@{/posts/{id}(id=${post.id})}" th:text="${post.title}">제목</a>
                    </td>
                    <!-- 게시글 작성자 출력 -->
                    <td th:text="${post.author}">작성자</td>
                    <!-- 작업 버튼들 -->
                    <td>
                        <!-- 수정 버튼 -->
                        <a th:href="@{/posts/update/{id}(id=${post.id})}" class="btn btn-sm btn-warning">수정</a>
                        <!-- 삭제 버튼 (폼으로 전송) -->
                        <form th:action="@{/posts/delete/{id}(id=${post.id})}" method="post" style="display: inline;">
                            <button type="submit" class="btn btn-sm btn-danger" 
                                    onclick="return confirm('정말 삭제하시겠습니까?')">삭제</button>
                        </form>
                    </td>
                </tr>
                <!-- 게시글이 없을 때 표시할 메시지 -->
                <tr th:if="${#lists.isEmpty(postsList)}">
                    <td colspan="4" class="text-center">등록된 게시글이 없습니다.</td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

